<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <title>Sora Malaya â€“ UGC Prompt Generator PRO</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --bg: #050509;
      --card: #11121a;
      --card-soft: #171825;
      --accent: #f5c85b;
      --accent-soft: rgba(245, 200, 91, 0.15);
      --text: #f7f7f7;
      --muted: #aaaaaa;
      --border: #252638;
      --radius-lg: 16px;
      --radius-md: 10px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #1a1b2b 0, #050509 55%);
      color: var(--text);
      padding: 18px 14px 40px;
    }

    .container {
      max-width: 960px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      font-size: 1.8rem;
      margin: 4px 0 6px;
    }

    .sub {
      text-align: center;
      font-size: 0.88rem;
      color: var(--muted);
      margin-bottom: 18px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid var(--accent-soft);
      background: rgba(0,0,0,0.4);
      color: var(--accent);
      font-size: 0.78rem;
      margin: 0 auto 8px;
    }

    .grid {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.1fr);
      gap: 14px;
    }

    @media (max-width: 768px) {
      .grid { grid-template-columns: minmax(0, 1fr); }
    }

    .card {
      background: var(--card);
      border-radius: var(--radius-lg);
      padding: 14px 14px 16px;
      border: 1px solid var(--border);
      box-shadow: 0 20px 40px rgba(0,0,0,0.45);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      gap: 8px;
    }

    .card-title {
      font-size: 0.96rem;
      font-weight: 600;
    }

    .card-desc {
      font-size: 0.8rem;
      color: var(--muted);
    }

    label {
      display: block;
      font-size: 0.8rem;
      margin-top: 8px;
      margin-bottom: 3px;
    }

    input[type="text"],
    input[type="number"],
    textarea,
    select {
      width: 100%;
      padding: 7px 9px;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: var(--card-soft);
      color: var(--text);
      font-size: 0.82rem;
      outline: none;
    }

    textarea {
      min-height: 70px;
      resize: vertical;
    }

    input::placeholder,
    textarea::placeholder {
      color: #666a80;
    }

    .help {
      font-size: 0.72rem;
      color: var(--muted);
    }

    .btn {
      width: 100%;
      padding: 11px 14px;
      border-radius: 999px;
      border: none;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      gap: 6px;
      margin-top: 10px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #f5c85b, #f59e0b);
      color: #1b1305;
    }

    .btn-ghost {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--muted);
    }

    .btn:active { transform: scale(0.98); }

    .output-title {
      font-size: 0.86rem;
      margin-top: 4px;
      margin-bottom: 4px;
    }

    #output {
      width: 100%;
      min-height: 370px;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: #050509;
      color: #e5e7eb;
      padding: 10px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.78rem;
      resize: vertical;
      white-space: pre;
    }

    .pill-row {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      margin-bottom: 4px;
    }

    .pill {
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid var(--accent-soft);
      font-size: 0.7rem;
      color: var(--muted);
    }

    .toast {
      position: fixed;
      bottom: 14px;
      right: 14px;
      background: #111827;
      color: var(--text);
      padding: 8px 12px;
      border-radius: 999px;
      font-size: 0.78rem;
      border: 1px solid var(--accent-soft);
      opacity: 0;
      transform: translateY(10px);
      pointer-events: none;
      transition: all 0.25s ease;
      z-index: 30;
    }

    .toast.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="badge">
      âš¡ Sora Malaya Studio â€¢ UGC Tool
    </div>
    <h1>Sora Malaya UGC Prompt Generator PRO</h1>
    <p class="sub">Isi input â†’ tekan generate â†’ terus dapat <b>JSON UGC siap pakai</b> untuk Sora / GPT.</p>

    <div class="grid">
      <!-- LEFT: FORM -->
      <div class="card">
        <div class="card-header">
          <div>
            <div class="card-title">Input Produk & Gaya UGC</div>
            <div class="card-desc">Masukkan maklumat asas, jangan terlalu panjang. Simple tapi padat.</div>
          </div>
        </div>

        <label>Nama Produk</label>
        <input id="product_name" type="text" placeholder="Contoh: Nasi Lemak Daun Pisang Mak Zah">

        <label>Jenis Produk</label>
        <input id="product_type" type="text" placeholder="Contoh: Food, Skincare, Service">

        <label>Kategori Produk</label>
        <input id="product_category" type="text" placeholder="Contoh: Food & Beverage, Skincare">

        <label>Manfaat Utama (pisahkan dengan koma)</label>
        <textarea id="main_benefits" placeholder="Contoh: sambal padu, harga mampu milik, mengenyangkan"></textarea>

        <label>Selling Point / Keunikan (pisahkan dengan koma)</label>
        <textarea id="selling_points" placeholder="Contoh: guna santan segar, lauk hari-hari tukar, bau wangi gerai"></textarea>

        <label>Video Style Category</label>
        <input id="video_style_category" type="text" placeholder="Contoh: Lifestyle casual, Food review, POV harian">

        <label>UGC Hook Type</label>
        <input id="ugc_hook_type" type="text" placeholder="Contoh: Visual hook, Story hook, Problem hook">

        <label>UGC Angle Type</label>
        <input id="ugc_angle_type" type="text" placeholder="Contoh: Honest review, First time try, Problem-solution">

        <div class="pill-row">
          <span class="pill">Tip: Tak perlu tulis panjang sangat</span>
          <span class="pill">Boleh adjust ikut niche</span>
        </div>

        <hr style="border:0; border-top:1px solid var(--border); margin:10px 0;">

        <label>Gender Talent</label>
        <select id="talent_gender">
          <option value="Male">Male</option>
          <option value="Female">Female</option>
        </select>

        <label>Umur Talent (range)</label>
        <input id="talent_age_range" type="text" placeholder="Contoh: 18â€“24, 25â€“34">

        <label>Gaya Look</label>
        <input id="talent_look" type="text" placeholder="Contoh: Casual, Professional, Smart casual">

        <label>Personaliti Talent</label>
        <input id="talent_personality" type="text" placeholder="Contoh: Friendly, Calm & warm, Playful">

        <label>Gaya Pakaian</label>
        <input id="clothing_style" type="text" placeholder="Contoh: T-shirt plain, Baju kurung hijab, Smart casual">

        <label>Tempo Suara (0.90 â€“ 0.98)</label>
        <input id="voice_tempo" type="number" step="0.01" value="0.94">

        <label>Emosi Suara</label>
        <input id="voice_emotion" type="text" placeholder="Contoh: warm_friendly, calm_trust, emotional_soft">

        <label>Vibrance Level</label>
        <input id="vibrance_level" type="number" value="10">

        <label>Exposure Level</label>
        <input id="exposure_level" type="number" step="0.1" value="0.2">

        <label>Temperature</label>
        <select id="temperature">
          <option value="warm">warm</option>
          <option value="neutral">neutral</option>
          <option value="cool">cool</option>
        </select>

        <label>Nota Tambahan Visual</label>
        <textarea id="additional_notes" placeholder="Contoh: suasana pagi di dapur rumah, mood cozy kampung, natural light dari tingkap"></textarea>

        <div style="display:flex; gap:8px; margin-top:8px;">
          <div style="flex:1;">
            <label>Jumlah Scene</label>
            <input id="scene_count" type="number" value="4" min="3" max="6">
          </div>
          <div style="flex:1;">
            <label>Durasi Sasaran (saat)</label>
            <input id="duration_target" type="number" value="12">
            <div class="help">Contoh: 10, 12, 15</div>
          </div>
        </div>

        <button class="btn btn-primary" onclick="generateJSON()">
          ðŸš€ Generate JSON UGC
        </button>
      </div>

      <!-- RIGHT: OUTPUT -->
      <div class="card">
        <div class="card-header">
          <div>
            <div class="card-title">Output JSON Siap Pakai</div>
            <div class="card-desc">Copy â†’ paste terus ke GPT / Sora / Notion sebagai template.</div>
          </div>
          <button class="btn btn-ghost" type="button" onclick="copyOutput()" style="width:auto; padding-inline:10px; font-size:0.78rem;">
            ðŸ“‹ Copy JSON
          </button>
        </div>

        <div class="output-title">JSON Generated:</div>
        <textarea id="output" readonly placeholder="// Tekan 'Generate JSON UGC' untuk hasilkan template..."></textarea>

        <div class="help" style="margin-top:6px;">
          â€¢ Semua dialog akan dalam Bahasa Melayu (Malaysia).<br>
          â€¢ Scene 1 auto jadikan hook. Durasi scene diagih ikut total durasi.<br>
          â€¢ Boleh edit JSON ni ikut suka, ini cuma base template Sora Malaya.
        </div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast">Disalin ke clipboard âœ”</div>

  <script>
    function splitToArray(str) {
      return str
        .split(",")
        .map(s => s.trim())
        .filter(Boolean);
    }

    function safeNumber(val, fallback) {
      const n = parseFloat(val);
      return isNaN(n) ? fallback : n;
    }

    function generateScenes(sceneCount, totalDuration, productName, hookType, angleType) {
      const scenes = [];
      const baseDuration = totalDuration / sceneCount;
      const roundedBase = Math.max(2, Math.round(baseDuration));

      for (let i = 1; i <= sceneCount; i++) {
        let purpose = "Detail";
        if (i === 1) purpose = "Hook";
        else if (i === 2) purpose = "Intro produk";
        else if (i === sceneCount) purpose = "CTA";

        let camera_shot = "medium_shot";
        if (i === 1) camera_shot = "close_up";
        if (i === 3) camera_shot = "top_down_food";

        let movement = i === 1 ? "handheld" : "slow push-in";

        let dialogue = "";
        if (i === 1) {
          dialogue =
            `\"Seriusâ€¦ ${productName} ni lain macam.\" (senyum kecil)\n` +
            `\"First time cuba, ${hookType.toLowerCase()} terus dalam 1 saat.\"`;
        } else if (i === 2) {
          dialogue =
            `\"${angleType}â€¦ saya suka sebab rasa dia jujur, macam makanan rumah sendiri.\"`;
        } else if (i === sceneCount) {
          dialogue =
            `"Kalau korang jenis suka benda simple tapi paduâ€¦ cuba je ${productName} ni, nanti cerita kat saya balik."`;
        } else {
          dialogue =
            `"Lepas suapan pertama tu, saya terus faham kenapa ramai ulang order. Rasa dia melekat dalam kepala."`;
        }

        const overlay_text =
          i === 1 ? "Hook awal" :
          i === sceneCount ? "Try sekali" :
          "Real review";

        scenes.push({
          scene_number: i,
          purpose,
          duration_s: roundedBase,
          camera_shot,
          movement_style: movement,
          scene_description:
            i === 1
              ? "Talent pegang produk dekat kamera, background simple, fokus pada ekspresi muka yang jujur."
              : i === 2
              ? "Talent duduk santai, produk di atas meja, lighting lembut suasana rumah."
              : i === sceneCount
              ? "Close-up produk + tangan talent, sambil bagi CTA lembut."
              : "Visual santai demo produk, tunjuk tekstur / cara guna secara ringkas.",
          dialogue,
          overlay_text,
          emotion_level: i === 1 || i === sceneCount ? "medium_high" : "medium"
        });
      }
      return scenes;
    }

    function generateJSON() {
      const product_name = document.getElementById("product_name").value || "Nama Produk";
      const product_type = document.getElementById("product_type").value || "Produk";
      const product_category = document.getElementById("product_category").value || "Kategori";

      const main_benefits = splitToArray(document.getElementById("main_benefits").value);
      const selling_points = splitToArray(document.getElementById("selling_points").value);

      const video_style_category = document.getElementById("video_style_category").value || "Lifestyle casual";
      const ugc_hook_type = document.getElementById("ugc_hook_type").value || "Visual hook";
      const ugc_angle_type = document.getElementById("ugc_angle_type").value || "Honest review";

      const talent_gender = document.getElementById("talent_gender").value;
      const talent_age_range = document.getElementById("talent_age_range").value || "25â€“34";
      const talent_look = document.getElementById("talent_look").value || "Casual";
      const talent_personality = document.getElementById("talent_personality").value || "Friendly";
      const clothing_style = document.getElementById("clothing_style").value || "Smart casual";

      const voice_tempo = safeNumber(document.getElementById("voice_tempo").value, 0.94);
      const voice_emotion = document.getElementById("voice_emotion").value || "warm_friendly";

      const vibrance_level = safeNumber(document.getElementById("vibrance_level").value, 10);
      const exposure_level = safeNumber(document.getElementById("exposure_level").value, 0.2);
      const temperature = document.getElementById("temperature").value;

      const additional_notes = document.getElementById("additional_notes").value || "Suasana natural, mood santai, lighting lembut.";

      const scene_count = Math.max(3, Math.min(6, parseInt(document.getElementById("scene_count").value || "4", 10)));
      const duration_target_raw = document.getElementById("duration_target").value || "12";
      const duration_target_s = safeNumber(duration_target_raw, 12);

      const jsonOutput = {
        meta: {
          template_name: `UGC â€“ ${product_name} â€“ Auto Generated by Sora Malaya`,
          version: "v1.0-auto",
          video_type: "UGC Content",
          aspect_ratio: "9:16",
          duration_target_s: duration_target_s,
          platform: "Reels/TikTok/Shorts"
        },

        product: {
          name: product_name,
          type: product_type,
          category: product_category,
          main_benefits: main_benefits.length ? main_benefits : [
            "Sedap konsisten setiap kali",
            "Harga masih mampu milik",
            "Senang dibawa dan dimakan"
          ],
          selling_points: selling_points.length ? selling_points : [
            "Resipi sendiri, bukan kilang",
            "Rasa macam air tangan mak",
            "Portion jujur, tak kedekut"
          ]
        },

        video_style: {
          category: video_style_category
        },

        ugc_style: {
          hook_type: ugc_hook_type,
          angle_type: ugc_angle_type,
          hook_description: `Hook bermula dengan ${ugc_hook_type.toLowerCase()} â€“ muka talent dekat dengan kamera, emosi jujur, tarik perhatian dalam 1 saat pertama.`,
          angle_description: `Angle ${ugc_angle_type.toLowerCase()}, gaya bercerita santai seolah-olah share pengalaman sendiri tanpa skrip berat.`
        },

        talent: {
          gender: talent_gender,
          age_range: talent_age_range,
          look: talent_look,
          personality: talent_personality,
          clothing: clothing_style
        },

        voice_settings: {
          tempo: voice_tempo,
          emotion: voice_emotion,
          breathing_enabled: true,
          natural_pauses: true,
          robotic_filter_reduction: true,
          notes: "Bahasa Melayu (Malaysia) penuh, dialog pendek-pendek dengan jeda semula jadi. Elakkan baca macam iklan skrip TV, lebih kepada kawan share pengalaman."
        },

        color_grade: {
          vibrance: vibrance_level,
          exposure: exposure_level,
          temperature: temperature,
          contrast_level: "medium"
        },

        audio_mix: {
          voice_volume: 1.0,
          bg_music_volume: 0.35,
          sfx_volume: 0.4,
          bg_music_style: "soft_lofi",
          ducking_on_dialogue: true
        },

        global_notes: {
          lighting: `Lighting lembut ikut nota: ${additional_notes}. Elakkan bayang keras. Pastikan muka talent jelas dan produk tak tenggelam.`,
          pace_note: "Pacing perlahan natural, macam borak dengan kawan. Satu ayat, satu nafas. Jangan terlalu rapat dan jangan laju.",
          emotion_note: "Nada jujur, santai, macam cerita betul. Bukan baca skrip iklan yang kaku.",
          cta_note: "CTA lembut tapi jelas â€” ajak cuba, bukan memaksa."
        },

        scenes: generateScenes(scene_count, duration_target_s, product_name, ugc_hook_type, ugc_angle_type),

        cta_presets_used: {
          type: "soft",
          line: `Kalau korang rasa nak cuba sesuatu yang simple tapi padu, try je ${product_name} niâ€¦ lepas tu tag saya dan cerita pengalaman korang.`
        }
      };

      document.getElementById("output").value =
        JSON.stringify(jsonOutput, null, 2);
    }

    function copyOutput() {
      const out = document.getElementById("output");
      if (!out.value.trim()) return;
      navigator.clipboard.writeText(out.value).then(() => showToast());
    }

    function showToast() {
      const t = document.getElementById("toast");
      t.classList.add("show");
      setTimeout(() => t.classList.remove("show"), 1800);
    }

    // Auto-generate sample on first load
    window.addEventListener("load", generateJSON);
  </script>
</body>
</html>
